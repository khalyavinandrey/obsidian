Рассуждать о последовательном исполнении программы - неправильно, в лекции показывается случай, как с использованием барьеров на уровне компилятора + двух потоков устанавливающих единицы в 2 поля - по итогу оба поля имеют значение 0