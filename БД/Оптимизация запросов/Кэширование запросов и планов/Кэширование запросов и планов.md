Разбор и оптимизация запросов относительно дорогие
если будет много одинаковых запросов, то каждый придется парсить и строить план

для решения такой проблемы используют кэш запросов и планов - такой кэш может поддерживаться для всех соединений, а может быть лишь в рамках одного соединения

если же кэш использовать для всех соединений - то будут лишние затраты на синхронизацию взаимодействия с этим кэшем

в pg такой кэш используется в рамках одного соединения

в рамках соединения проверяется - был ли такой запрос - то используется либо parse tree такого запроса, либо уже готовый логический план запроса

#бд 