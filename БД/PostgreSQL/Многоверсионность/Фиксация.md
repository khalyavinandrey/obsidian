при успешном завершении транзакции нужно запомнить ее статус - отметить что она зафиксирована - для такого используется структура commit log (clog)

там для каждой транзакции выделено два бита: committed и aborted

если другая транзакция обратится к табличной странице - то ей придется ответить на вопрос - завершилась ли транзакция с номером xmin
- если нет - версия строки не должна быть видна
- если да - то отменой или фиксацией -> если отмена, то версия строки не должна быть видна

для такой проверки как раз и нужен clog - но и так как каждый раз смотреть в clog - накладно - для избежания такого варианта - используются аттрибуты xmin_commited ....

при этом накладно будет если сама транзакция, фиксирующая изменения будет еще проставлять эти аттрибуты - так как все страницы нужно будет держать в памяти

#бд 
#postgresql